(window.webpackJsonp=window.webpackJsonp||[]).push([[16,9],{560:function(t,e,n){"use strict";n.r(e);n(41),n(27),n(40),n(59),n(33),n(60);var o=n(22),r=n(125),l=n(126),c=(n(74),n(549)),h=n(554);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={mounted:function(){new v({el:this.$refs.game})}},v=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,t),"string"==typeof(n=m({el:"body"},n)).el&&(n.el=document.querySelector(n.el)),this.el=n.el,this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.scene=Object.assign(new c.i,{background:new c.a(15663103)}),this.camera=new c.g(40,this.width/this.height,1,100),this.renderer=new c.o({antialias:!0}),this.renderer.setSize(this.width,this.height),this.renderer.outputEncoding=c.p,this.el.appendChild(this.renderer.domElement),this.create(),setInterval((function(){requestAnimationFrame((function(time){e.update(),e.renderer.render(e.scene,e.camera)}))}),1e3/60),window.addEventListener("resize",(function(t){e.width=e.el.offsetWidth,e.height=e.el.offsetHeight,e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix(),e.renderer.setSize(e.width,e.height)}))}return Object(l.a)(t,[{key:"create",value:function(){this.camera.position.x=5,this.camera.position.y=5,this.controls=new h.a(this.camera,this.renderer.domElement),this.scene.add(new c.c(10,10));var t=new c.l(1,.2,64,8),e=new c.f({color:68});this.scene.add(this.torusKnot=new c.e(t,e))}},{key:"update",value:function(){this.torusKnot.rotation.y+=.02}}]),t}(),y=f,w=n(7),component=Object(w.a)(y,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"game",staticStyle:{width:"100%",height:"300px"}})])}),[],!1,null,null,null);e.default=component.exports},583:function(t,e,n){"use strict";n.r(e);n(73),n(74),n(88),n(33);var o=n(569),r=n(570),l=n(571),c=n(572),h=n(573),d=(n(563),{middleware:"auth",layout:"admin",components:{LMap:o.a,LTileLayer:r.a,LMarker:l.a,LPolyline:c.a,LPolygon:h.a},data:function(){return{osm:{url:!1,json:{}},map:{zoom:17,center:{lat:0,lng:0}},polyline:!1}},methods:{geolocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.map.center={lat:e.coords.latitude,lng:e.coords.longitude}}))},onUpdateBounds:function(t){var e=this;this.onUpdateBoundsTimeout&&clearTimeout(this.onUpdateBoundsTimeout),this.onUpdateBoundsTimeout=setTimeout((function(){var n=t._southWest.lat,o=t._southWest.lng,r=t._northEast.lat,l=t._northEast.lng,c="".concat(o,",").concat(n,",").concat(l,",").concat(r),h={bbox:c,zoom:e.map.zoom};e.$axios.get("/api/maps/test",{params:h}).then((function(t){e.osm=t.data})),e.osm.url="https://api.openstreetmap.org/api/0.6/map?bbox=".concat(c)}),500)},polylineChange:function(t){var polyline={color:"red",latLngs:[]};this.osm.elements.forEach((function(e){t.nodes.forEach((function(t){t==e.id&&polyline.latLngs.push([e.lat,e.lon])}))})),console.log(polyline),this.polyline=polyline}},mounted:function(){this.geolocation()}}),m=n(7),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row g-0"},[n("div",{staticClass:"col-6"},[n("l-map",t._b({ref:"map",staticStyle:{width:"100%",height:"600px"},on:{"update:bounds":function(e){return t.onUpdateBounds(e)}}},"l-map",t.map,!1,!0),[n("l-tile-layer",{attrs:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}),t._v(" "),t.polyline?n("l-polygon",t._b({},"l-polygon",t.polyline,!1)):t._e()],1),t._v(" "),n("ui-game")],1),t._v(" "),n("div",{staticClass:"col-6"},[n("a",{attrs:{href:t.osm.url,target:"_blank"}},[t._v("Download")]),t._v(" "),n("div",{staticStyle:{"max-height":"350px",overflow:"auto"}},[n("el-collapse",{attrs:{value:"",accordion:""}},t._l(t.osm.elements,(function(e){return"node"!=e.type?n("el-collapse-item",{key:e.id,attrs:{title:e.tags&&e.tags.name?e.tags.name:"",name:e.id}},[n("button",{staticClass:"btn btn-primary w-100",attrs:{type:"button"},on:{click:function(n){return t.polylineChange(e)}}},[t._v("\n                            Polyline\n                        ")]),t._v(" "),n("div",{staticClass:"row g-1"},[n("div",{staticClass:"col-12"},[n("pre",{staticClass:"bg-dark text-white m-0"},[t._v(t._s(e))])]),t._v(" "),t._l(e.nodes,(function(e){return[t._l(t.osm.elements,(function(o){return[e==o.id?n("div",{staticClass:"col-6"},[n("pre",{staticClass:"bg-dark text-white m-0"},[t._v(t._s(o))])]):t._e()]}))]}))],2)]):t._e()})),1)],1),t._v(" "),n("pre",{staticClass:"bg-dark text-success",staticStyle:{"max-height":"300px",overflow:"auto"}},[t._v("polyline: "+t._s(t.polyline))]),t._v(" "),n("pre",{staticClass:"bg-dark text-success",staticStyle:{"max-height":"300px",overflow:"auto"}},[t._v("osm: "+t._s(t.osm))])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiGame:n(560).default})}}]);